{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{connect}from\"react-redux\";import{addPost}from\"../../../actions/faculty\";import{useHistory}from\"react-router-dom\";import{loadFaculty}from\"../../../actions/auth\";import Spinner from\"../../layout/Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CreateCourse=_ref=>{let{auth:{user},addPost,loadFaculty}=_ref;useEffect(()=>{loadFaculty();},[]);const[formData,setFormData]=useState({course:\"\",year:\"\"});const{course,year}=formData;const history=useHistory();const onChange=e=>setFormData({...formData,[e.target.name]:e.target.value});const onSubmit=async e=>{e.preventDefault();console.log(formData);addPost({course,year});history.push(\"/faculty/courses\");};return!user?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"create-form\",onSubmit:e=>{onSubmit(e);},children:[/*#__PURE__*/_jsx(\"label\",{for:\"assgn-name\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Course Name\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"assgn-name\",name:\"course\",value:course,onChange:e=>onChange(e)}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{for:\"assgn-text\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Batch Year\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"year\",value:year,onChange:e=>onChange(e)}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-info \",type:\"submit\",id:\"submit\",name:\"submit\"})})]})})]});};const mapStateToProps=state=>({auth:state.auth});export default connect(mapStateToProps,{addPost,loadFaculty})(CreateCourse);","map":{"version":3,"names":["React","useState","useEffect","connect","addPost","useHistory","loadFaculty","Spinner","jsx","_jsx","jsxs","_jsxs","CreateCourse","_ref","auth","user","formData","setFormData","course","year","history","onChange","e","target","name","value","onSubmit","preventDefault","console","log","push","children","className","for","type","id","mapStateToProps","state"],"sources":["E:/attendencemgmt/Attendance-Management-SQL/client/src/components/dashboard/faculty/CreateCourse.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { addPost } from \"../../../actions/faculty\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { loadFaculty } from \"../../../actions/auth\";\r\nimport Spinner from \"../../layout/Spinner\";\r\n\r\nconst CreateCourse = ({ auth: { user }, addPost, loadFaculty }) => {\r\n  useEffect(() => {\r\n    loadFaculty();\r\n  }, []);\r\n\r\n  const [formData, setFormData] = useState({\r\n    course: \"\",\r\n    year: \"\",\r\n  });\r\n\r\n  const { course, year } = formData;\r\n  const history = useHistory();\r\n\r\n  const onChange = (e) =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(formData);\r\n    addPost({ course, year });\r\n    history.push(\"/faculty/courses\");\r\n  };\r\n\r\n  return !user ? (\r\n    <Spinner />\r\n  ) : (\r\n    <div>\r\n      <div className=\"modal-dialog\"></div>\r\n      <div className=\"modal-body\">\r\n        <form\r\n          className=\"create-form\"\r\n          onSubmit={(e) => {\r\n            onSubmit(e);\r\n          }}\r\n        >\r\n          <label for=\"assgn-name\">\r\n            <h1>Course Name</h1>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"assgn-name\"\r\n            name=\"course\"\r\n            value={course}\r\n            onChange={(e) => onChange(e)}\r\n          />\r\n          <br /> <br />\r\n          <label for=\"assgn-text\">\r\n            <h1>Batch Year</h1>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"year\"\r\n            value={year}\r\n            onChange={(e) => onChange(e)}\r\n          />\r\n          <div className=\"\">\r\n            <input\r\n              className=\"btn btn-info \"\r\n              type=\"submit\"\r\n              id=\"submit\"\r\n              name=\"submit\"\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nCreateCourse.propTypes = {\r\n  addPost: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  loadFaculty: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { addPost, loadFaculty })(CreateCourse);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}