{"ast":null,"code":"import React,{Fragment,useEffect}from\"react\";import{getStudentAttendance}from\"../../../actions/faculty\";import{connect}from\"react-redux\";import DetailsRow from\"./DetailsRow\";import Sidebar from\"./Sidebar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const StudentDetails=_ref=>{let{getStudentAttendance,faculty:{studentRecords,courses},auth:{user},match}=_ref;useEffect(()=>{getStudentAttendance(match.params.year,match.params.roll,match.params.course);},[getStudentAttendance],match.params.course,match.params.roll,match.params.year);let present=0;let total=0;let last=studentRecords[studentRecords.length-1];console.log(studentRecords);if(studentRecords)console.log(typeof last);if(studentRecords.length>0){studentRecords.map(record=>{total++;if(record.status===\"Present\")present++;});}let percent=Math.ceil(present*100/total);return studentRecords.length>0?/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid-container\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"header__logo\",children:\"Attendance DashBoard\"})}),/*#__PURE__*/_jsx(Sidebar,{user:user}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{style:{paddingLeft:\"20px\",paddingTop:\"15px\"},children:[match.params.course,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{color:\"#000\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Average Attendance Record\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"c100 p\".concat(percent,\" big\"),children:[/*#__PURE__*/_jsxs(\"span\",{children:[percent,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"slice\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bar\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fill\"})]})]})]}),percent>=75?/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{backgroundColor:\"green\",color:\"white\"},children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(\"u\",{children:\"Eligibility (cut-off 75%):\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\" Eligible \"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{backgroundColor:\"red\",color:\"white\"},children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(\"u\",{children:\"Eligibility (cut-off 75%)\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\" Not Eligible \"})]})]}),/*#__PURE__*/_jsxs(\"table\",{id:\"attendance-table\",className:\"table table-bordered table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark heading\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"faculty-table-header\",children:\"S.No\"}),/*#__PURE__*/_jsx(\"th\",{className:\"faculty-table-header\",children:\"Roll\"}),/*#__PURE__*/_jsx(\"th\",{className:\"faculty-table-header\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"faculty-table-header\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"faculty-table-header\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"faculty-table-header\",children:\"Edit\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{id:\"myTable\",children:studentRecords.map((record,index)=>/*#__PURE__*/_jsx(DetailsRow,{record:record,index:index+1,course:match.params.course,year:match.params.year}))})]})]})]})}):/*#__PURE__*/_jsxs(\"div\",{className:\"grid-container\",children:[/*#__PURE__*/_jsx(Sidebar,{user:user}),/*#__PURE__*/_jsxs(\"h1\",{children:[\"No records created for \",match.params.roll,\" yet.\"]})]});};const mapStateToProps=state=>({faculty:state.faculty,auth:state.auth});export default connect(mapStateToProps,{getStudentAttendance})(StudentDetails);","map":{"version":3,"names":["React","Fragment","useEffect","getStudentAttendance","connect","DetailsRow","Sidebar","jsx","_jsx","jsxs","_jsxs","StudentDetails","_ref","faculty","studentRecords","courses","auth","user","match","params","year","roll","course","present","total","last","length","console","log","map","record","status","percent","Math","ceil","children","className","style","paddingLeft","paddingTop","color","concat","backgroundColor","id","index","mapStateToProps","state"],"sources":["E:/attendencemgmt/Attendance-Management-SQL/client/src/components/dashboard/faculty/StudentDetails.js"],"sourcesContent":["import React, { Fragment, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { getStudentAttendance } from \"../../../actions/faculty\";\r\nimport { connect } from \"react-redux\";\r\nimport DetailsRow from \"./DetailsRow\";\r\nimport Sidebar from \"./Sidebar\";\r\n\r\nconst StudentDetails = ({\r\n  getStudentAttendance,\r\n  faculty: { studentRecords, courses },\r\n  auth: { user },\r\n  match,\r\n}) => {\r\n  useEffect(\r\n    () => {\r\n      getStudentAttendance(\r\n        match.params.year,\r\n        match.params.roll,\r\n        match.params.course\r\n      );\r\n    },\r\n    [getStudentAttendance],\r\n    match.params.course,\r\n    match.params.roll,\r\n    match.params.year\r\n  );\r\n\r\n  let present = 0;\r\n  let total = 0;\r\n  let last = studentRecords[studentRecords.length - 1];\r\n  console.log(studentRecords);\r\n  if (studentRecords) console.log(typeof last);\r\n  if (studentRecords.length > 0) {\r\n    studentRecords.map((record) => {\r\n      total++;\r\n      if (record.status === \"Present\") present++;\r\n    });\r\n  }\r\n\r\n  let percent = Math.ceil((present * 100) / total);\r\n\r\n  return studentRecords.length > 0 ? (\r\n    <Fragment>\r\n      <div className=\"grid-container\">\r\n        {/* <div className=\"menu-icon\">\r\n          <i className=\"fas fa-bars header__menu\"></i>\r\n        </div> */}\r\n\r\n        <header className=\"header\">\r\n          <div className=\"header__logo\">Attendance DashBoard</div>\r\n        </header>\r\n        <Sidebar user={user} />\r\n\r\n        <div>\r\n          <h1 style={{ paddingLeft: \"20px\", paddingTop: \"15px\" }}>\r\n            {match.params.course}{\" \"}\r\n          </h1>\r\n          <div className=\"main-cards\">\r\n            <div className=\"card\" style={{ color: \"#000\" }}>\r\n              <h2>Average Attendance Record</h2>\r\n\r\n              <div className={`c100 p${percent} big`}>\r\n                <span>{percent}%</span>\r\n                <div className=\"slice\">\r\n                  <div className=\"bar\"></div>\r\n                  <div className=\"fill\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {percent >= 75 ? (\r\n              <div\r\n                className=\"card\"\r\n                style={{ backgroundColor: \"green\", color: \"white\" }}\r\n              >\r\n                <h4>\r\n                  <u>Eligibility (cut-off 75%):</u>\r\n                </h4>\r\n                <h1> Eligible </h1>\r\n              </div>\r\n            ) : (\r\n              <div\r\n                className=\"card\"\r\n                style={{ backgroundColor: \"red\", color: \"white\" }}\r\n              >\r\n                <h4>\r\n                  <u>Eligibility (cut-off 75%)</u>\r\n                </h4>\r\n                <h1> Not Eligible </h1>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <table\r\n            id=\"attendance-table\"\r\n            className=\"table table-bordered table-striped\"\r\n          >\r\n            <thead className=\"thead-dark heading\">\r\n              <tr>\r\n                <th className=\"faculty-table-header\">S.No</th>\r\n                <th className=\"faculty-table-header\">Roll</th>\r\n                <th className=\"faculty-table-header\">Name</th>\r\n                <th className=\"faculty-table-header\">Date</th>\r\n                <th className=\"faculty-table-header\">Status</th>\r\n                <th className=\"faculty-table-header\">Edit</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody id=\"myTable\">\r\n              {studentRecords.map((record, index) => (\r\n                <DetailsRow\r\n                  record={record}\r\n                  index={index + 1}\r\n                  course={match.params.course}\r\n                  year={match.params.year}\r\n                />\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  ) : (\r\n    <div className=\"grid-container\">\r\n      <Sidebar user={user} />\r\n      <h1>No records created for {match.params.roll} yet.</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nStudentDetails.propTypes = {\r\n  getStudentAttendance: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  faculty: state.faculty,\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, { getStudentAttendance })(\r\n  StudentDetails\r\n);\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAElD,OAASC,oBAAoB,KAAQ,0BAA0B,CAC/D,OAASC,OAAO,KAAQ,aAAa,CACrC,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhC,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAKjB,IALkB,CACtBT,oBAAoB,CACpBU,OAAO,CAAE,CAAEC,cAAc,CAAEC,OAAQ,CAAC,CACpCC,IAAI,CAAE,CAAEC,IAAK,CAAC,CACdC,KACF,CAAC,CAAAN,IAAA,CACCV,SAAS,CACP,IAAM,CACJC,oBAAoB,CAClBe,KAAK,CAACC,MAAM,CAACC,IAAI,CACjBF,KAAK,CAACC,MAAM,CAACE,IAAI,CACjBH,KAAK,CAACC,MAAM,CAACG,MACf,CAAC,CACH,CAAC,CACD,CAACnB,oBAAoB,CAAC,CACtBe,KAAK,CAACC,MAAM,CAACG,MAAM,CACnBJ,KAAK,CAACC,MAAM,CAACE,IAAI,CACjBH,KAAK,CAACC,MAAM,CAACC,IACf,CAAC,CAED,GAAI,CAAAG,OAAO,CAAG,CAAC,CACf,GAAI,CAAAC,KAAK,CAAG,CAAC,CACb,GAAI,CAAAC,IAAI,CAAGX,cAAc,CAACA,cAAc,CAACY,MAAM,CAAG,CAAC,CAAC,CACpDC,OAAO,CAACC,GAAG,CAACd,cAAc,CAAC,CAC3B,GAAIA,cAAc,CAAEa,OAAO,CAACC,GAAG,CAAC,MAAO,CAAAH,IAAI,CAAC,CAC5C,GAAIX,cAAc,CAACY,MAAM,CAAG,CAAC,CAAE,CAC7BZ,cAAc,CAACe,GAAG,CAAEC,MAAM,EAAK,CAC7BN,KAAK,EAAE,CACP,GAAIM,MAAM,CAACC,MAAM,GAAK,SAAS,CAAER,OAAO,EAAE,CAC5C,CAAC,CAAC,CACJ,CAEA,GAAI,CAAAS,OAAO,CAAGC,IAAI,CAACC,IAAI,CAAEX,OAAO,CAAG,GAAG,CAAIC,KAAK,CAAC,CAEhD,MAAO,CAAAV,cAAc,CAACY,MAAM,CAAG,CAAC,cAC9BlB,IAAA,CAACP,QAAQ,EAAAkC,QAAA,cACPzB,KAAA,QAAK0B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAK7B3B,IAAA,WAAQ4B,SAAS,CAAC,QAAQ,CAAAD,QAAA,cACxB3B,IAAA,QAAK4B,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,sBAAoB,CAAK,CAAC,CAClD,CAAC,cACT3B,IAAA,CAACF,OAAO,EAACW,IAAI,CAAEA,IAAK,CAAE,CAAC,cAEvBP,KAAA,QAAAyB,QAAA,eACEzB,KAAA,OAAI2B,KAAK,CAAE,CAAEC,WAAW,CAAE,MAAM,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAJ,QAAA,EACpDjB,KAAK,CAACC,MAAM,CAACG,MAAM,CAAE,GAAG,EACvB,CAAC,cACLZ,KAAA,QAAK0B,SAAS,CAAC,YAAY,CAAAD,QAAA,eACzBzB,KAAA,QAAK0B,SAAS,CAAC,MAAM,CAACC,KAAK,CAAE,CAAEG,KAAK,CAAE,MAAO,CAAE,CAAAL,QAAA,eAC7C3B,IAAA,OAAA2B,QAAA,CAAI,2BAAyB,CAAI,CAAC,cAElCzB,KAAA,QAAK0B,SAAS,UAAAK,MAAA,CAAWT,OAAO,QAAO,CAAAG,QAAA,eACrCzB,KAAA,SAAAyB,QAAA,EAAOH,OAAO,CAAC,GAAC,EAAM,CAAC,cACvBtB,KAAA,QAAK0B,SAAS,CAAC,OAAO,CAAAD,QAAA,eACpB3B,IAAA,QAAK4B,SAAS,CAAC,KAAK,CAAM,CAAC,cAC3B5B,IAAA,QAAK4B,SAAS,CAAC,MAAM,CAAM,CAAC,EACzB,CAAC,EACH,CAAC,EACH,CAAC,CAELJ,OAAO,EAAI,EAAE,cACZtB,KAAA,QACE0B,SAAS,CAAC,MAAM,CAChBC,KAAK,CAAE,CAAEK,eAAe,CAAE,OAAO,CAAEF,KAAK,CAAE,OAAQ,CAAE,CAAAL,QAAA,eAEpD3B,IAAA,OAAA2B,QAAA,cACE3B,IAAA,MAAA2B,QAAA,CAAG,4BAA0B,CAAG,CAAC,CAC/B,CAAC,cACL3B,IAAA,OAAA2B,QAAA,CAAI,YAAU,CAAI,CAAC,EAChB,CAAC,cAENzB,KAAA,QACE0B,SAAS,CAAC,MAAM,CAChBC,KAAK,CAAE,CAAEK,eAAe,CAAE,KAAK,CAAEF,KAAK,CAAE,OAAQ,CAAE,CAAAL,QAAA,eAElD3B,IAAA,OAAA2B,QAAA,cACE3B,IAAA,MAAA2B,QAAA,CAAG,2BAAyB,CAAG,CAAC,CAC9B,CAAC,cACL3B,IAAA,OAAA2B,QAAA,CAAI,gBAAc,CAAI,CAAC,EACpB,CACN,EACE,CAAC,cAENzB,KAAA,UACEiC,EAAE,CAAC,kBAAkB,CACrBP,SAAS,CAAC,oCAAoC,CAAAD,QAAA,eAE9C3B,IAAA,UAAO4B,SAAS,CAAC,oBAAoB,CAAAD,QAAA,cACnCzB,KAAA,OAAAyB,QAAA,eACE3B,IAAA,OAAI4B,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAAC,MAAI,CAAI,CAAC,cAC9C3B,IAAA,OAAI4B,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAAC,MAAI,CAAI,CAAC,cAC9C3B,IAAA,OAAI4B,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAAC,MAAI,CAAI,CAAC,cAC9C3B,IAAA,OAAI4B,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAAC,MAAI,CAAI,CAAC,cAC9C3B,IAAA,OAAI4B,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAAC,QAAM,CAAI,CAAC,cAChD3B,IAAA,OAAI4B,SAAS,CAAC,sBAAsB,CAAAD,QAAA,CAAC,MAAI,CAAI,CAAC,EAC5C,CAAC,CACA,CAAC,cACR3B,IAAA,UAAOmC,EAAE,CAAC,SAAS,CAAAR,QAAA,CAChBrB,cAAc,CAACe,GAAG,CAAC,CAACC,MAAM,CAAEc,KAAK,gBAChCpC,IAAA,CAACH,UAAU,EACTyB,MAAM,CAAEA,MAAO,CACfc,KAAK,CAAEA,KAAK,CAAG,CAAE,CACjBtB,MAAM,CAAEJ,KAAK,CAACC,MAAM,CAACG,MAAO,CAC5BF,IAAI,CAAEF,KAAK,CAACC,MAAM,CAACC,IAAK,CACzB,CACF,CAAC,CACG,CAAC,EACH,CAAC,EACL,CAAC,EACH,CAAC,CACE,CAAC,cAEXV,KAAA,QAAK0B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC7B3B,IAAA,CAACF,OAAO,EAACW,IAAI,CAAEA,IAAK,CAAE,CAAC,cACvBP,KAAA,OAAAyB,QAAA,EAAI,yBAAuB,CAACjB,KAAK,CAACC,MAAM,CAACE,IAAI,CAAC,OAAK,EAAI,CAAC,EACrD,CACN,CACH,CAAC,CAMD,KAAM,CAAAwB,eAAe,CAAIC,KAAK,GAAM,CAClCjC,OAAO,CAAEiC,KAAK,CAACjC,OAAO,CACtBG,IAAI,CAAE8B,KAAK,CAAC9B,IACd,CAAC,CAAC,CAEF,cAAe,CAAAZ,OAAO,CAACyC,eAAe,CAAE,CAAE1C,oBAAqB,CAAC,CAAC,CAC/DQ,cACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}