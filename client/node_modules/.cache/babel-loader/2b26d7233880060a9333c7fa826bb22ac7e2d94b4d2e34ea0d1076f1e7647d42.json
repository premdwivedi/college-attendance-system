{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./assignment.css\";import Comment from\"./Comment\";import Spinner from\"../../layout/Spinner\";import{connect}from\"react-redux\";import Sidebar from\"./Sidebar\";import{getComments,addComment}from\"../../../actions/faculty\";import{loadFaculty}from\"../../../actions/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const FacChatPage=_ref=>{let{addComment,getComments,loadFaculty,faculty:{comments},auth:{user,loading},match}=_ref;useEffect(()=>{getComments(match.params.course,match.params.year);loadFaculty();},[getComments,match.params.year,match.params.course]);const[formData,setFormData]=useState({msg:\"\"});const{msg}=formData;const onChange=e=>setFormData({...formData,[e.target.name]:e.target.value});const onCommentSubmit=async e=>{addComment({msg},match.params.course,match.params.year);};return!user&&loading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"grid-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"menu-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-bars header__menu\"})}),/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"header__logo\",children:\"Attendance DashBoard\"})}),/*#__PURE__*/_jsx(Sidebar,{user:user}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"comments\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"comment-box add-comment\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"commenter-pic\"}),/*#__PURE__*/_jsx(\"span\",{className:\"commenter-name\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>onCommentSubmit(e),children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add a public comment\",name:\"msg\",value:msg,autoComplete:\"off\",onChange:e=>onChange(e)}),/*#__PURE__*/_jsx(\"button\",{disabled:msg.length===0,type:\"submit\",className:\"btn btn-default col-lg-6\",children:\"Comment\"})]})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]}),comments.length>0?comments.map(comment=>/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(Comment,{comment:comment})})):/*#__PURE__*/_jsx(\"h2\",{children:\" No comments yet.\"})]})})})})]});};const mapStateToProps=state=>({student:state.student,faculty:state.faculty,auth:state.auth});export default connect(mapStateToProps,{addComment,getComments,loadFaculty})(FacChatPage);","map":{"version":3,"names":["React","useEffect","useState","Comment","Spinner","connect","Sidebar","getComments","addComment","loadFaculty","jsx","_jsx","jsxs","_jsxs","FacChatPage","_ref","faculty","comments","auth","user","loading","match","params","course","year","formData","setFormData","msg","onChange","e","target","name","value","onCommentSubmit","className","children","onSubmit","type","placeholder","autoComplete","disabled","length","map","comment","mapStateToProps","state","student"],"sources":["E:/attendencemgmt/Attendance-Management-SQL/client/src/components/dashboard/faculty/Chatpage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./assignment.css\";\r\nimport Comment from \"./Comment\";\r\nimport Spinner from \"../../layout/Spinner\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport { getComments, addComment } from \"../../../actions/faculty\";\r\nimport { loadFaculty } from \"../../../actions/auth\";\r\n\r\nconst FacChatPage = ({\r\n  addComment,\r\n  getComments,\r\n  loadFaculty,\r\n  faculty: { comments },\r\n  auth: { user, loading },\r\n  match,\r\n}) => {\r\n  useEffect(() => {\r\n    getComments(match.params.course, match.params.year);\r\n    loadFaculty();\r\n  }, [getComments, match.params.year, match.params.course]);\r\n  const [formData, setFormData] = useState({\r\n    msg: \"\",\r\n  });\r\n\r\n  const { msg } = formData;\r\n  const onChange = (e) =>\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  const onCommentSubmit = async (e) => {\r\n    addComment({ msg }, match.params.course, match.params.year);\r\n  };\r\n\r\n  return !user && loading ? (\r\n    <Spinner />\r\n  ) : (\r\n    <div className=\"grid-container\">\r\n      <div className=\"menu-icon\">\r\n        <i className=\"fas fa-bars header__menu\"></i>\r\n      </div>\r\n\r\n      <header className=\"header\">\r\n        <div className=\"header__logo\">Attendance DashBoard</div>\r\n      </header>\r\n\r\n      <Sidebar user={user} />\r\n\r\n      <div>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <div className=\"comments\">\r\n              <div className=\"comment-box add-comment\">\r\n                <span className=\"commenter-pic\"></span>\r\n                <span className=\"commenter-name\">\r\n                  <div>\r\n                    <form onSubmit={(e) => onCommentSubmit(e)}>\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Add a public comment\"\r\n                        name=\"msg\"\r\n                        value={msg}\r\n                        autoComplete=\"off\"\r\n                        onChange={(e) => onChange(e)}\r\n                      />\r\n                      <button\r\n                        disabled={msg.length === 0}\r\n                        type=\"submit\"\r\n                        className=\"btn btn-default col-lg-6\"\r\n                      >\r\n                        Comment\r\n                      </button>\r\n                    </form>\r\n                  </div>\r\n                </span>\r\n\r\n                <br />\r\n                <br />\r\n              </div>\r\n\r\n              {comments.length > 0 ? (\r\n                comments.map((comment) => (\r\n                  <ul>\r\n                    <Comment comment={comment} />\r\n                  </ul>\r\n                ))\r\n              ) : (\r\n                <h2> No comments yet.</h2>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nFacChatPage.propTypes = {\r\n  getComments: PropTypes.func.isRequired,\r\n  addComment: PropTypes.func.isRequired,\r\n  faculty: PropTypes.object.isRequired,\r\n  loadFaculty: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  student: state.student,\r\n  faculty: state.faculty,\r\n  auth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  addComment,\r\n  getComments,\r\n  loadFaculty,\r\n})(FacChatPage);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}